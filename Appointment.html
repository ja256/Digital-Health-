import React from 'react';
import './Appointment.css'; // Ensure styles are available

const AppointmentManagement = ({ 
  upcomingAppointments = [], 
  appointmentRequests = [], 
  appointmentHistory = [] 
}) => {
  
  // Handlers for appointment actions
  const handleAccept = (patientName) => {
    alert(`Accepting request from ${patientName}`);
  };

  const handleDecline = (patientName) => {
    alert(`Declining request from ${patientName}`);
  };

  return (
    <div className="appointment-management-container">
      <h2>Appointment Management</h2>

      {/* Upcoming Appointments Section */}
      <div className="appointment-section">
        <h3>Upcoming Appointments</h3>
        {upcomingAppointments.length > 0 ? (
          <ul className="appointment-list">
            {upcomingAppointments.map((appointment, index) => (
              <li key={index} className="appointment-item">
                <p><strong>Patient:</strong> {appointment.patientName || 'N/A'}</p>
                <p><strong>Time:</strong> {appointment.time || 'N/A'}</p>
                <p><strong>Location:</strong> {appointment.location || 'N/A'}</p>
              </li>
            ))}
          </ul>
        ) : (
          <p>No upcoming appointments.</p>
        )}
      </div>

      {/* Appointment Requests Section */}
      <div className="appointment-section">
        <h3>Appointment Requests</h3>
        {appointmentRequests.length > 0 ? (
          <ul className="appointment-list">
            {appointmentRequests.map((request, index) => (
              <li key={index} className="request-item">
                <p><strong>Patient:</strong> {request.patientName || 'N/A'}</p>
                <p><strong>Requested Time:</strong> {request.requestedTime || 'N/A'}</p>
                <button className="accept-btn" onClick={() => handleAccept(request.patientName)}>Accept</button>
                <button className="decline-btn" onClick={() => handleDecline(request.patientName)}>Decline</button>
              </li>
            ))}
          </ul>
        ) : (
          <p>No pending appointment requests.</p>
        )}
      </div>

      {/* Appointment History Section */}
      <div className="appointment-section">
        <h3>Appointment History</h3>
        {appointmentHistory.length > 0 ? (
          <ul className="appointment-list">
            {appointmentHistory.map((appointment, index) => (
              <li key={index} className="history-item">
                <p><strong>Patient:</strong> {appointment.patientName || 'N/A'}</p>
                <p><strong>Date:</strong> {appointment.date || 'N/A'}</p>
                <p><strong>Location:</strong> {appointment.location || 'N/A'}</p>
                <p><strong>Status:</strong> {appointment.status || 'N/A'}</p>
              </li>
            ))}
          </ul>
        ) : (
          <p>No appointment history available.</p>
        )}
      </div>
    </div>
  );
};

export default AppointmentManagement;
